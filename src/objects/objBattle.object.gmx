<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprController</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all();


audio_play_sound(musBattleTemp, 0, true);

Progress = 0;

global.prev_atk = noone;


global.items = ds_list_create();
scr_add_item(2);
scr_add_item(1);
scr_add_item(1);
scr_add_item(1);
scr_add_item(0);
scr_add_item(0);
scr_add_item(0);
scr_add_item(0);


global.plrName = "fan of vanya";
global.plrHpMax = 1;
global.plrHp = global.plrHpMax;
global.plrHpKarma = global.plrHpMax;

global.plrAtk = 1000;
global.plrDef = 1;

global.plrMode = 0;

DefPowerTimer = 0;
AtkPowerTimer = 0;

global.enemyHpMax = 14200;
//global.enemyHp = 50;

global.enemyHp = global.enemyHpMax;
global.enemyDef = 30;



global.enemies[0] = "Ваня aka Кумир";


global.msg[0] = "* Видя своего Кумира, вы наполняетесь ОПТИМИСТИЧНОСТЬЮ";
global.msg[1] = "* Вы понимаете, что это была очень легкая атака";
global.msg[2] = "* Вы поражаетесь навыкам кодинга Вани";
global.msg[3] = "* Помните, мотоциклы = Фарш";
global.msg[4] = "* Куча дел не имеет отношения к компании Куча дел";
global.msg[5] = "* Крик марк бластеров наполняет вас ОПТИМИСТИЧНОСТЬЮ";
global.msg[8] = "* У Вани 500 знаков в минуту, а у Вас?";
global.msg[7] = "* Забавный факт. У Вани на 1 балл ЕГЭ больше чем у Вадика.";
global.msg[6] = "* Как-то раз, на конференции, Ваня сделал презу во время выступления других участников";
global.msg[9] = "* Вы вообще читаете эти#сообщения?";
global.msg[10] = "* Перед вами Senior Apex#Nagibator.";
global.msg[11] = "* Как круто вы играете O_O";
global.msg[12] = "* Забудьте, что я сказал на прошлом ходу";
global.msg[13] = "* Как дела?";
global.msg[14] = "* Фразы кончаются, дальше будет реклама.";
global.msg[15] = "* Также попробуйте Sonic 1 PC Recreation";
global.msg[16] = "* Также попробуйте Mark The Game";
global.msg[17] = "* Также попробуйте Zuma Deluxe HD";
global.msg[18] = "* www.youtube.com/watch?v=dQw4w9WgXcQ";
global.msg[19] = "* Просто продолжай восхищаться";


cur_msg = 0;

text = noone;

border = instance_create(x, y, objB_Border);

enemyTurn = false;

MENU_MAIN = 0;
MENU_ADMIRE = 1;
MENU_CASE = 2;
MENU_ITEM = 3;

menu = MENU_MAIN;

menu_pos = 0;






</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (global.enemyHp &lt; 0)
   global.enemyHp = 0;


if (menu == MENU_MAIN &amp;&amp; !instance_exists(objB_EnemyTurn)) {
   if (!instance_exists(text)) {
      text = instance_create(56, 270, objText)
      
      if (Progress &lt; array_length_1d(global.msg))
         curMsg = Progress;
         
      text.message = global.msg[curMsg];
   }
   

    if keyboard_check_pressed(vk_left) {
       audio_play_sound(snd_squeak, 0, false);
       menu_pos--;
    } else if keyboard_check_pressed(vk_right) {
       audio_play_sound(snd_squeak, 0, false);
       menu_pos++;
    }
       
    if menu_pos &lt; 0
       menu_pos = 3;
       
    if menu_pos &gt; 3
       menu_pos = 0;
       
       
    if (global.keyActionPressed) {
       audio_play_sound(snd_select, 0, false);
       menu = menu_pos + 1;
       switch (menu) {
          case MENU_ADMIRE:
               with text instance_destroy();
               instance_create(x, y, objB_MenuEnemy);
               break;
          case MENU_CASE:
               with text instance_destroy();
               instance_create(border.x, border.y, objB_MenuRoll);
               break;
          case MENU_ITEM:
               if (ds_list_size(global.items) &lt;= 0) {
                  menu = 0;
               } else {
                   with text instance_destroy();
                   instance_create(x, y, objB_MenuItems);
               }
               break;
          default:
               menu = 0;
               break;
       }
     
       
    }
}

if (instance_exists(objB_EnemyTurn)) {
   menu = -1;
} 

if (global.plrHp &gt; global.plrHpMax)      global.plrHp = global.plrHpMax;
if (global.plrHpKarma &gt; global.plrHpMax) global.plrHpKarma = global.plrHpMax;
   
if (global.plrHpKarma &lt;= 0 &amp;&amp; global.plrHp &lt;= 1) {
   global.try++;
   scr_save_game();
   room_goto(rm_game_over);
}

if (global.plrHpKarma &lt; global.plrHp)
   global.plrHpKarma = global.plrHp;

   
if (global.plrHpKarma &gt; global.plrHp) {

    var d = global.plrHp - global.plrHpKarma;
    global.plrHpKarma += min(max(d, -d / 100), d / 100);
}



if DefPowerTimer == 0
   global.plrDef = 1;
else if DefPowerTimer &gt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   DefPowerTimer -= 1;
   global.plrDef = 1.5;
} else if DefPowerTimer &lt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   DefPowerTimer += 1;
   global.plrDef = 0.5;
}
   
if AtkPowerTimer == 0
   global.plrAtk = 1000;
else if AtkPowerTimer &gt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   AtkPowerTimer -= 1;
   global.plrAtk = 1300;
} else if AtkPowerTimer &lt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   AtkPowerTimer += 1;
   global.plrAtk = 800;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

draw_set_font(fntB_UI);

if (DefPowerTimer &gt; 0) draw_set_color(c_lime);
else draw_set_color(c_red);

if (DefPowerTimer &gt; 0)
   draw_text(500, 16, "DEF+ " + string(abs(DefPowerTimer)));
else if (DefPowerTimer &lt; 0)
   draw_text(500, 16, "DEF- " + string(abs(DefPowerTimer)));


if (AtkPowerTimer &gt; 0) draw_set_color(c_lime);
else draw_set_color(c_red);

if (AtkPowerTimer &gt; 0)
   draw_text(500, 48, "ATK+ " + string(abs(AtkPowerTimer)));
else if (AtkPowerTimer &lt; 0)
   draw_text(500, 48, "ATK- " + string(abs(AtkPowerTimer)));


draw_set_colour(c_white);




var hud_x = 34;
var hud_y = 398;
var hp_text = string(floor(global.plrHpKarma)) + " / " + string(global.plrHpMax);

draw_text(hud_x,  hud_y, global.plrName);
hud_x += string_width(global.plrName) + 24;

draw_sprite(sprBattleUiHp, 0, hud_x, hud_y);
hud_x += 32;

draw_set_colour(c_red);
draw_rectangle(hud_x, hud_y, hud_x+global.plrHpMax, hud_y+21, false);
draw_set_colour(c_fuchsia);
draw_rectangle(hud_x, hud_y, hud_x+global.plrHpKarma, hud_y+21, false);
draw_set_colour(c_yellow);
draw_rectangle(hud_x, hud_y, hud_x+global.plrHp, hud_y+21, false);
draw_set_colour(c_white);
hud_x += global.plrHpMax + 16;

if (floor(global.plrHpKarma) != global.plrHp) draw_set_color(c_fuchsia);
draw_text(hud_x, hud_y, hp_text);


hud_x += string_width(hp_text) + 18;

draw_set_colour(c_white);
draw_text(hud_x, hud_y, "try: " + string(global.try));


draw_sprite(sprBattleButtons, 0 + 4 * (menu_pos == 0 &amp;&amp; menu == MENU_MAIN), 33,  431);
draw_sprite(sprBattleButtons, 1 + 4 * (menu_pos == 1 &amp;&amp; menu == MENU_MAIN), 186, 431);
draw_sprite(sprBattleButtons, 2 + 4 * (menu_pos == 2 &amp;&amp; menu == MENU_MAIN), 346, 431);
draw_sprite(sprBattleButtons, 3 + 4 * (menu_pos == 3 &amp;&amp; menu == MENU_MAIN), 501, 431);

if (menu == MENU_MAIN) {
    var soul_pos_x;
    switch (menu_pos) {
           case 0: soul_pos_x = 33; break;
           case 1: soul_pos_x = 186; break;
           case 2: soul_pos_x = 346; break;
           case 3: soul_pos_x = 501; break;
    }
    draw_sprite(sprB_Soul, 0, soul_pos_x+16, 431+21);
}

draw_set_colour(c_white);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
