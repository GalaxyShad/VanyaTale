<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprB_Soul</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-30</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_speed = 0;

WIDTH  = sprite_get_width(sprite_index);
HEIGHT = sprite_get_height(sprite_index);

inv = 0;

xsp = 4;
ysp = 4;
yacc = 0.2;

jumping = false;
ground = false;

border = instance_find(objB_Border, 0);

CanMove = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_index = global.plrMode;

if (keyboard_check(vk_left) &amp;&amp; CanMove)
   xsp =- 4;
else if (keyboard_check(vk_right) &amp;&amp; CanMove)
   xsp = +4;
else 
   xsp = 0;
   
if (global.plrMode == 0) {
    if (keyboard_check(vk_up) &amp;&amp; CanMove)
       ysp = -4;
    else if (keyboard_check(vk_down) &amp;&amp; CanMove)
       ysp = +4;
    else 
       ysp = 0;
} else if (global.plrMode == 1) {
   if (!ground) {
      if (ysp &lt;= -4) ysp += 0.2;
      else if (ysp &gt; -4 &amp;&amp; ysp &lt;= -1) ysp += 0.5;
      else if (ysp &gt; -1 &amp;&amp; ysp &lt;= 0.5) ysp += 0.2;
      else if (ysp &gt; 0.5 &amp;&amp; ysp &lt; 8) ysp += 0.6;
      else ysp += 0;
   } else {
      ysp = 0;
   }
   
   if (ground &amp;&amp; keyboard_check(vk_up)) {
      jumping = true;
      ysp = -6;
      ground = false;
   } 
   
   if (jumping &amp;&amp; !keyboard_check(vk_up) &amp;&amp; ysp &lt; -4) 
      ysp = -1;
      
   if (ground)
      jumping = false;
}
   
x += xsp;
y += ysp;
   
var left    = border.left   + border.THICK + WIDTH  / 2;
var right   = border.right  - border.THICK - WIDTH  / 2 + 1;
var top     = border.top    + border.THICK + HEIGHT / 2;
var bottom  = border.bottom - border.THICK - HEIGHT / 2 + 1;

x = min(max(x, left), right);
y = min(max(y, top), bottom);

if (y &gt;= bottom ) ground = true;
else ground = false;


var oObstacle = instance_place(x, y, parHurtable);

if (place_meeting(x, y, oObstacle)) {
   if ((oObstacle.Type == 1 &amp;&amp; ((x - xprevious) != 0 || (y - yprevious) != 0)) ||
       (oObstacle.Type == 2 &amp;&amp; ((x - xprevious) == 0 &amp;&amp; (y - yprevious) == 0)) ||
        oObstacle.Type == 0)  {
           if (!inv) {
           
              global.plrHp -= oObstacle.Dmg / global.plrDef;
              inv = 15;
              
              if (global.plrHp &lt; 1)
                 global.plrHp = 1;
                 
              
           }
           global.plrHpKarma -= 1;
           
           audio_play_sound(snd_hurt, 0, false);
   }
}

if (inv &gt; 0)
   inv--;

global.soul_x = x;
global.soul_y = y;

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
