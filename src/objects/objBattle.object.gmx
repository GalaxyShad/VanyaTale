<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprController</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>audio_stop_all();


audio_play_sound(musBattleTemp, 0, true);

Progress = 0;

global.prev_atk = noone;


global.items = ds_list_create();
scr_add_item(2);
scr_add_item(1);
scr_add_item(1);
scr_add_item(1);
scr_add_item(0);
scr_add_item(0);
scr_add_item(0);
scr_add_item(0);


global.plrName = "fan of vanya";
global.plrHpMax = 100;
global.plrHp = global.plrHpMax;
global.plrHpKarma = global.plrHpMax;

global.plrAtk = 1000;
global.plrDef = 1;

global.plrMode = 0;

DefPowerTimer = 0;
AtkPowerTimer = 0;

global.enemyHpMax = 14200;
//global.enemyHp = 50;

global.enemyHp = global.enemyHpMax;
global.enemyDef = 30;


scr_battle_menu_buttons_create();


global.enemies[0] = "Ваня aka Кумир";

//global.msg[0] = "* ilovebigasses228";
global.msg[0] = "* Видя своего Кумира, вы наполняетесь ОПТИМИСТИЧНОСТЬЮ";
global.msg[1] = "* Вы понимаете, что это была очень легкая атака";
global.msg[2] = "* Вы поражаетесь навыкам кодинга Вани";
global.msg[3] = "* Помните, мотоциклы = Фарш";
global.msg[4] = "* Куча дел не имеет отношения к компании Куча дел";
global.msg[5] = "* Крик марк бластеров наполняет вас ОПТИМИСТИЧНОСТЬЮ";
global.msg[8] = "* У Вани 500 знаков в минуту, а у Вас?";
global.msg[7] = "* Забавный факт. У Вани на 1 балл ЕГЭ больше чем у Вадика.";
global.msg[6] = "* Как-то раз, на конференции, Ваня сделал презу во время выступления других участников";
global.msg[9] = "* Вы вообще читаете эти#сообщения?";
global.msg[10] = "* Перед вами Senior Apex#Nagibator.";
global.msg[11] = "* Как круто вы играете O_O";
global.msg[12] = "* Забудьте, что я сказал на прошлом ходу";
global.msg[13] = "* Как дела?";
global.msg[14] = "* Фразы кончаются, дальше будет реклама.";
global.msg[15] = "* Также попробуйте Sonic 1 PC Recreation";
global.msg[16] = "* Также попробуйте Mark The Game";
global.msg[17] = "* Также попробуйте Zuma Deluxe HD";
global.msg[18] = "* www.youtube.com/watch?v=dQw4w9WgXcQ";
global.msg[19] = "* Просто продолжай восхищаться";


cur_msg = 0;

text = noone;

border = instance_create(x, y, objB_Border);

enemyTurn = false;

MENU_MAIN = 0;
MENU_ADMIRE = 1;
MENU_CASE = 2;
MENU_ITEM = 3;

menu = MENU_MAIN;

menu_pos = 0;






</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
if (global.enemyHp &lt; 0)
   global.enemyHp = 0;


if (menu == MENU_MAIN &amp;&amp; !instance_exists(objB_EnemyTurn)) {
   if (!instance_exists(text)) {
      text = instance_create(56, 270, objText)
      
      if (!instance_exists(buttons[0]) &amp;&amp; !instance_exists(buttons[1]) &amp;&amp; !instance_exists(buttons[2]) &amp;&amp; !instance_exists(buttons[3])) {
         scr_battle_menu_buttons_create();
      }
      
      if (Progress &lt; array_length_1d(global.msg))
         curMsg = Progress;
         
      text.message = global.msg[curMsg];
      text.maxWidth = global.scr_width_scaled - 150;
   }
   

    
    for (var i = 0; i &lt; 3; i++) {
        if (instance_exists(buttons[i])) {
            if (buttons[i].IsClicked) {
               audio_play_sound(snd_select, 0, false);
        
               menu = i+1;
               
               switch (menu) {
                  case MENU_ADMIRE:
                       with text instance_destroy();
                       instance_create(x, y, objB_Admire);
                       scr_battle_menu_buttons_destroy();
                       break;
                  case MENU_CASE:
                       with text instance_destroy();
                       instance_create(border.x, border.y, objB_MenuRoll);
                       scr_battle_menu_buttons_destroy();
                       break;
                  case MENU_ITEM:
                       if (ds_list_size(global.items) &lt;= 0) {
                          menu = 0;
                       } else {
                           with text instance_destroy();
                           instance_create(x, y, objB_MenuItems);
                           scr_battle_menu_buttons_destroy();
                       }
                       break;
                  default:
                       menu = 0;
                       break;
               }
            }
        }
    }
}

if (instance_exists(objB_EnemyTurn)) {
   menu = -1;
} 

if (global.plrHp &gt; global.plrHpMax)      global.plrHp = global.plrHpMax;
if (global.plrHpKarma &gt; global.plrHpMax) global.plrHpKarma = global.plrHpMax;
   
if (global.plrHpKarma &lt;= 0 &amp;&amp; global.plrHp &lt;= 1) {
   global.try++;
   scr_save_game();
   room_goto(rm_game_over);
}

if (global.plrHpKarma &lt; global.plrHp)
   global.plrHpKarma = global.plrHp;

   
if (global.plrHpKarma &gt; global.plrHp) {

    var d = global.plrHp - global.plrHpKarma;
    global.plrHpKarma += min(max(d, -d / 100), d / 100);
}



if DefPowerTimer == 0
   global.plrDef = 2;
else if DefPowerTimer &gt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   DefPowerTimer -= 1;
   global.plrDef = 3;
} else if DefPowerTimer &lt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   DefPowerTimer += 1;
   global.plrDef = 0.5;
}
   
if AtkPowerTimer == 0
   global.plrAtk = 1300;
else if AtkPowerTimer &gt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   AtkPowerTimer -= 1;
   global.plrAtk = 1600;
} else if AtkPowerTimer &lt; 0 &amp;&amp; global.tick % 30 == 0 &amp;&amp; instance_exists(objB_EnemyTurn) &amp;&amp; !instance_exists(objB_Dialog) {
   AtkPowerTimer += 1;
   global.plrAtk = 1000;
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//draw_text(320, 0, menu);

draw_set_font(fntB_UI);



if (DefPowerTimer &gt; 0) draw_set_color(c_lime);
else draw_set_color(c_red);

if (DefPowerTimer &gt; 0)
   draw_text(500, 16, "DEF+ " + string(abs(DefPowerTimer)));
else if (DefPowerTimer &lt; 0)
   draw_text(500, 16, "DEF- " + string(abs(DefPowerTimer)));


if (AtkPowerTimer &gt; 0) draw_set_color(c_lime);
else draw_set_color(c_red);

if (AtkPowerTimer &gt; 0)
   draw_text(500, 48, "ATK+ " + string(abs(AtkPowerTimer)));
else if (AtkPowerTimer &lt; 0)
   draw_text(500, 48, "ATK- " + string(abs(AtkPowerTimer)));


draw_set_colour(c_white);




var hud_x = 16;
var hud_y = 16;
var hp_text = string(floor(global.plrHpKarma)) + " /#" + string(global.plrHpMax);

//draw_text(hud_x,  hud_y, global.plrName);
//hud_x += string_width(global.plrName) + 24;

draw_sprite(sprBattleUiHp, 0, hud_x, hud_y);
hud_y += 32;

draw_set_colour(c_red);
draw_rectangle(hud_x, hud_y, hud_x+21, hud_y+global.plrHpMax, false);
draw_set_colour(c_fuchsia);
draw_rectangle(hud_x, hud_y, hud_x+21, hud_y+global.plrHpKarma, false);
draw_set_colour(c_yellow);
draw_rectangle(hud_x, hud_y, hud_x+21, hud_y+global.plrHp, false);
draw_set_colour(c_white);
hud_y += global.plrHpMax + 16;

if (floor(global.plrHpKarma) != global.plrHp) draw_set_color(c_fuchsia);
draw_text(hud_x, hud_y, hp_text);


hud_y += 16;

//draw_set_colour(c_white);
//draw_text(hud_x, hud_y, "try: " + string(global.try));


draw_set_colour(c_white);

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
